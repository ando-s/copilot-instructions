# タスク分割・作業書作成支援指示

## 目的
設計方針書から具体的な開発タスクに分割し、実行可能な作業書を作成する。

## トリガーキーワード
- "作業書"
- "タスク分割"
- "make-task"
- "タスク作成"
- "開発計画"

## 実行プロセス

### 1. TDD（テスト駆動開発）対応のタスク構成
以下のTDDサイクルに基づいてタスクを構成してください：

#### Red-Green-Refactorサイクル
1. **Red**: 失敗するテストを書く
2. **Green**: テストを通す最小限の実装
3. **Refactor**: コードの品質を向上させる

#### タスクの粒度
- 1つのタスクは1日以内で完了可能
- 独立してテスト・動作確認が可能
- 他のタスクへの影響を最小化

### 2. 動作保証可能な単位での分割
以下の観点でタスクを分割してください：

#### 機能単位の分割
- 単一責任の原則に基づく分割
- ユーザーにとって価値のある最小単位
- 独立してデプロイ・テスト可能

#### 技術的分割
- フロントエンド・バックエンド・データベース
- 各レイヤーでの独立した作業
- APIの設計と実装の分離

### 3. 明確な完了条件と確認手順の設定
各タスクに以下を明確に定義してください：

#### 完了条件（Definition of Done）
- 機能要件の実装完了
- 単体テストの実装と実行
- コードレビューの完了
- ドキュメントの更新

#### 確認手順
- 動作確認の具体的な手順
- テストケースの実行方法
- 品質チェックの項目
- 受け入れテストの内容

### 4. 依存関係の管理
タスク間の依存関係を明確にしてください：

#### 依存関係の種類
- 技術的依存（APIの実装 → フロントエンドの実装）
- 論理的依存（認証機能 → 権限管理機能）
- リソース依存（同一の開発者が担当するタスク）

#### 並行実行の最適化
- 独立して実行可能なタスクの特定
- クリティカルパスの最短化
- ボトルネックの特定と対策

## 出力形式

### 作業書のテンプレート
```markdown
# [機能名] 作業書

## 1. 作業概要
- 作業名：
- 目的：
- 担当者：
- 想定工数：
- 期限：

## 2. 前提条件
- 必要な事前作業
- 依存するタスク
- 必要なリソース・環境

## 3. 作業内容
### 3.1 実装対象
- 作成・修正するファイル
- 実装する機能・クラス・メソッド
- 設定変更項目

### 3.2 実装手順
1. テストケースの作成
2. 最小限の実装
3. テストの実行と確認
4. リファクタリング
5. 統合テスト

## 4. 完了条件
- [ ] 機能要件の実装完了
- [ ] 単体テストの実装・実行
- [ ] コードレビューの完了
- [ ] ドキュメントの更新
- [ ] 統合テストの実行

## 5. 確認手順
### 5.1 動作確認
### 5.2 テスト実行
### 5.3 品質チェック

## 6. 注意事項・制約
- 技術的制約
- 他機能への影響
- パフォーマンス考慮事項

## 7. 関連ドキュメント
- 設計書
- API仕様書
- 既存コード
```

### タスク分割の例
```markdown
# タスク分割例：ユーザー管理機能

## Phase 1: 基盤整備
- Task 1.1: データベース設計・テーブル作成
- Task 1.2: 基本的なエンティティクラス作成
- Task 1.3: 基本的なリポジトリクラス作成

## Phase 2: 基本機能実装
- Task 2.1: ユーザー登録API実装
- Task 2.2: ユーザー認証API実装
- Task 2.3: ユーザー情報取得API実装

## Phase 3: UI実装
- Task 3.1: ユーザー登録画面実装
- Task 3.2: ログイン画面実装
- Task 3.3: ユーザー情報表示画面実装

## Phase 4: 高度な機能
- Task 4.1: パスワードリセット機能
- Task 4.2: プロフィール編集機能
- Task 4.3: 権限管理機能
```

## 品質チェックポイント
- タスクが適切な粒度で分割されているか
- 各タスクが独立してテスト可能か
- 完了条件が明確で測定可能か
- 依存関係が適切に管理されているか
- TDDのサイクルが適用できる構造か
- 並行実行の最適化が考慮されているか
