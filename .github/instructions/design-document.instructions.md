---
applyTo: '**'
---

# 設計方針書作成支援指示

## 目的
要件定義から実装方針を設計し、開発者が迷いなく実装できる設計書を作成する。

## トリガーキーワード
- "設計方針"
- "設計書"
- "design-doc"
- "実装方針"
- "アーキテクチャ設計"

## 実行プロセス

### 1. アーキテクチャ選択と選択理由
以下の観点でアーキテクチャを選択してください：

#### システム全体アーキテクチャ
- モノリス vs マイクロサービス
- レイヤードアーキテクチャ vs クリーンアーキテクチャ
- イベント駆動 vs リクエスト駆動
- 選択理由と具体的なメリット・デメリット

#### 技術スタック選択
- プログラミング言語の選択理由
- フレームワーク・ライブラリの選定基準
- データベースの種類と選択理由
- インフラ・デプロイ戦略

### 2. 実装方法の候補比較と決定
複数の実装方法を比較検討してください：

#### 比較観点
- 開発効率・学習コスト
- パフォーマンス・スケーラビリティ
- 保守性・拡張性
- セキュリティ・信頼性
- コスト・リソース要件

#### 決定プロセス
- 各候補の詳細な比較表
- 重み付けによる評価
- 最終決定の理由と根拠
- 将来的な見直し基準

### 3. 技術的制約と考慮事項の整理
以下の制約と考慮事項を明確にしてください：

#### 技術的制約
- 既存システムとの互換性
- パフォーマンス要件の制約
- セキュリティポリシーの制約
- 予算・リソースの制約

#### 考慮事項
- 将来の拡張性と柔軟性
- チームのスキルレベル
- 運用・保守の容易さ
- 障害対応とモニタリング

### 4. 具体的な実装指針
開発者向けの具体的な指針を提供してください：

#### コード構造
- ディレクトリ構成とファイル配置
- 命名規則とコーディング規約
- モジュール分割の方針
- 依存関係の管理方法

#### データ設計
- データベース設計の詳細
- テーブル設計とリレーション
- インデックス戦略
- データ移行・バックアップ戦略

#### API設計
- RESTful設計の原則
- エンドポイント設計指針
- 認証・認可の実装方法
- エラーハンドリングの統一方針

## 出力形式

### 設計方針書のテンプレート
```markdown
# [システム名] 設計方針書

## 1. 設計概要
- システム概要
- 設計方針の目的
- 想定する利用者・利用環境

## 2. アーキテクチャ設計
### 2.1 全体アーキテクチャ
### 2.2 技術スタック
### 2.3 選択理由と根拠

## 3. 実装方針
### 3.1 コード構造・モジュール設計
### 3.2 データ設計
### 3.3 API設計
### 3.4 UI/UX設計

## 4. 非機能要件への対応
### 4.1 パフォーマンス対策
### 4.2 セキュリティ対策
### 4.3 可用性・信頼性対策

## 5. 開発・運用方針
### 5.1 開発プロセス
### 5.2 テスト戦略
### 5.3 デプロイ・運用方針

## 6. 制約事項・前提条件

## 7. リスクと対策

## 8. 今後の拡張・改善計画
```

## 品質チェックポイント
- 技術選択の理由が明確で説得力があるか
- 実装者が具体的な行動を取れる内容か
- 非機能要件が適切に考慮されているか
- 将来の変更・拡張に対応できる柔軟性があるか
- リスクと対策が適切に検討されているか
- チームのスキルレベルに適合しているか
